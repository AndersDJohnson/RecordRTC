<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>RecordRTC: Index</title>
    
    <meta name="description" content="RecordRTC is a server-less (entire client-side) JavaScript library can be used to record WebRTC audio/video media streams. It supports cross-browser audio/video recording." />
	<meta name="keywords" content="webrtc, recordrtc, record-rtc, web-rtc, audio-recording, video-recording, gif-recording, audio/video recording" />
    
    <link rel="author" type="text/html" href="https://plus.google.com/+MuazKhan">
    <meta name="author" content="Muaz Khan">
    
    <meta name="google-site-verification" content="CF3eHatqBHZGK5fzJPQKmsOZg45h2-WgJXylgSVvsak" />

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
	<link rel="stylesheet" href="https://cdn.webrtc-experiment.com/style.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    
    <style>
        blockquote {
            padding: 0;
        }
        pre {
            font-size: 15px;
            padding: 0;
        }
        header {
            border-bottom: 1px solid #ddd;
            margin: -39px;
            margin-bottom: auto;
        }
        
        .github-stargazers {
            top: 10px;
            left: 30%;
        }
    </style>
    
    <link rel="alternate" type="application/rss+xml" title="Muaz Khan Feed" href="http://feeds.feedburner.com/muazkh">
</head>

<body>

<div class="github-stargazers"></div>

<div id="main">
    



    

<section>
    <article>
    	
    </article>
</section>







    

<section>
    <article>
    	
    	    <h1>RecordRTC: WebRTC JavaScript Library for Audio+Video+Screen Recording</h1><h1>Demo: https://www.webrtc-experiment.com/RecordRTC/</h1><p><a href="http://RecordRTC.org/">RecordRTC Documentation</a> / <a href="https://github.com/muaz-khan/RecordRTC/wiki">RecordRTC Wiki Pages</a> / <a href="https://www.webrtc-experiment.com/RecordRTC/">RecordRTC Demo</a> / <a href="https://www.webrtc-experiment.com/">WebRTC Experiments</a></p>
<p><a href="https://npmjs.org/package/recordrtc"><img src="https://img.shields.io/npm/v/recordrtc.svg" alt="npm"></a> <a href="https://npmjs.org/package/recordrtc"><img src="https://img.shields.io/npm/dm/recordrtc.svg" alt="downloads"></a> <a href="https://travis-ci.org/muaz-khan/RecordRTC"><img src="https://travis-ci.org/muaz-khan/RecordRTC.png?branch=master" alt="Build Status: Linux"></a></p>
<blockquote>
<p><a href="https://www.webrtc-experiment.com/RecordRTC/">RecordRTC</a> is a JavaScript-based media-recording library for modern web-browsers (supporting WebRTC getUserMedia API). It is optimized for different devices and browsers to bring all client-side (pluginfree) recording solutions in single place.</p>
</blockquote>
<p><a href="https://www.youtube.com/watch?v=YrLzTgdJ-Kg"><img src="https://cdn.webrtc-experiment.com/images/RecordRTC-YouTube.png" alt="YouTube Video Tutorial for RecordRTC!" /></a></p>
<h1>Check all releases:</h1><ul>
<li>https://github.com/muaz-khan/RecordRTC/releases</li>
</ul>
<p>Please check <a href="https://github.com/muaz-khan/RecordRTC/tree/master/dev">dev</a> directory for development files.</p>
<ol>
<li><a href="http://RecordRTC.org/RecordRTC.html">RecordRTC API Reference</a></li>
<li><a href="http://RecordRTC.org/MRecordRTC.html">MRecordRTC API Reference</a></li>
<li><a href="http://RecordRTC.org/MediaStreamRecorder.html">MediaStreamRecorder API Reference</a></li>
<li><a href="http://RecordRTC.org/StereoAudioRecorder.html">StereoAudioRecorder API Reference</a></li>
<li><a href="http://RecordRTC.org/WhammyRecorder.html">WhammyRecorder API Reference</a></li>
<li><a href="http://RecordRTC.org/Whammy.html">Whammy API Reference</a></li>
<li><a href="http://RecordRTC.org/CanvasRecorder.html">CanvasRecorder API Reference</a></li>
<li><a href="http://RecordRTC.org/GifRecorder.html">GifRecorder API Reference</a></li>
<li><a href="http://RecordRTC.org/global.html">Global API Reference</a></li>
</ol>
<h2>Browsers Support:</h2><table>
<thead>
<tr>
<th>Browser</th>
<th>Support</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Firefox</td>
<td><a href="http://www.mozilla.org/en-US/firefox/new/">Stable</a> / <a href="http://www.mozilla.org/en-US/firefox/aurora/">Aurora</a> / <a href="http://nightly.mozilla.org/">Nightly</a></td>
<td>Audio+Video (Both local/remote)</td>
</tr>
<tr>
<td>Google Chrome</td>
<td><a href="https://www.google.com/intl/en_uk/chrome/browser/">Stable</a> / <a href="https://www.google.com/intl/en/chrome/browser/canary.html">Canary</a> / <a href="https://www.google.com/intl/en/chrome/browser/beta.html">Beta</a> / <a href="https://www.google.com/intl/en/chrome/browser/index.html?extra=devchannel#eula">Dev</a></td>
<td>Audio+Video (Both local/remote)</td>
</tr>
<tr>
<td>Opera</td>
<td><a href="http://www.opera.com/">Stable</a> / <a href="http://www.opera.com/computer/next">NEXT</a></td>
<td>Audio/Video Separately</td>
</tr>
<tr>
<td>Android</td>
<td><a href="https://play.google.com/store/apps/details?id=com.chrome.beta&amp;hl=en">Chrome</a> / <a href="https://play.google.com/store/apps/details?id=org.mozilla.firefox">Firefox</a> / <a href="https://play.google.com/store/apps/details?id=com.opera.browser">Opera</a></td>
<td>Audio/Video Separately</td>
</tr>
<tr>
<td>Microsoft Edge</td>
<td><a href="https://www.microsoft.com/en-us/windows/microsoft-edge">Normal Build</a></td>
<td>Only Audio</td>
</tr>
</tbody>
</table>
<h2>RecordRTC Containers Format</h2><h4>vp9</h4><p><a href="https://www.webrtc-experiment.com/images/RecordRTC-vp9.png"><img src="https://www.webrtc-experiment.com/images/RecordRTC-vp9.png" alt="RecordRTC vp9" /></a></p>
<h4>vp8</h4><p><a href="https://www.webrtc-experiment.com/images/RecordRTC-vp8.png"><img src="https://www.webrtc-experiment.com/images/RecordRTC-vp8.png" alt="RecordRTC vp8" /></a></p>
<h4>h264</h4><p><a href="https://www.webrtc-experiment.com/images/RecordRTC-h264.png"><img src="https://www.webrtc-experiment.com/images/RecordRTC-h264.png" alt="RecordRTC h264" /></a></p>
<h4>pcm</h4><p><a href="https://www.webrtc-experiment.com/images/RecordRTC-pcm.png"><img src="https://www.webrtc-experiment.com/images/RecordRTC-pcm.png" alt="RecordRTC pcm" /></a></p>
<h4>opus</h4><p><a href="https://www.webrtc-experiment.com/images/RecordRTC-opus.png"><img src="https://www.webrtc-experiment.com/images/RecordRTC-opus.png" alt="RecordRTC opus" /></a></p>
<table>
<thead>
<tr>
<th>Media File</th>
<th>Bitrate/Framerate</th>
<th>encoders</th>
<th>Framesize</th>
<th>additional info</th>
</tr>
</thead>
<tbody>
<tr>
<td>Audio File (WAV)</td>
<td>1411 kbps</td>
<td>pcm_s16le</td>
<td>44100 Hz</td>
<td>stereo, s16</td>
</tr>
<tr>
<td>Video File (WebM)</td>
<td>60 kb/s</td>
<td>(whammy) vp8 codec yuv420p</td>
<td>--</td>
<td>SAR 1:1 DAR 4:3, 1k tbr, 1k tbn, 1k tbc (default)</td>
</tr>
</tbody>
</table>
<h2>RecordRTC Demos</h2><ol>
<li><a href="https://github.com/muaz-khan/RecordRTC/tree/master/RecordRTC-to-Nodejs">RecordRTC to Node.js</a></li>
<li><a href="https://github.com/muaz-khan/RecordRTC/tree/master/RecordRTC-to-PHP">RecordRTC to PHP</a></li>
<li><a href="https://github.com/muaz-khan/RecordRTC/tree/master/RecordRTC-to-ASPNETMVC">RecordRTC to ASP.NET MVC</a></li>
<li><a href="https://github.com/muaz-khan/RecordRTC/tree/master/Canvas-Recording">RecordRTC &amp; HTML-2-Canvas i.e. Canvas/HTML Recording!</a></li>
<li><a href="https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC">MRecordRTC i.e. Multi-RecordRTC!</a></li>
<li><a href="https://github.com/cbetta/record-rtc-experiment">RecordRTC on Ruby!</a></li>
<li><a href="https://github.com/muaz-khan/RecordRTC/tree/master/RecordRTC-over-Socketio">RecordRTC over Socket.io</a></li>
<li><a href="https://github.com/muaz-khan/WebRTC-Experiment/tree/master/ffmpeg">ffmpeg-asm.js and RecordRTC! Audio/Video Merging &amp; Transcoding!</a></li>
<li><a href="https://github.com/muaz-khan/RecordRTC/tree/master/PHP-and-FFmpeg">RecordRTC / PHP / FFmpeg</a></li>
<li><a href="https://www.npmjs.org/package/record-audio">Record Audio and upload to Nodejs server</a></li>
<li><a href="https://github.com/muaz-khan/ConcatenateBlobs">ConcatenateBlobs.js</a> - Concatenate multiple recordings in single Blob!</li>
<li><a href="https://www.webrtc-experiment.com/demos/remote-stream-recording.html">Remote audio-stream recording</a> or <a href="https://www.webrtc-experiment.com/RTCMultiConnection/RecordRTC-and-RTCMultiConnection.html">a real p2p demo</a></li>
<li><a href="https://www.webrtc-experiment.com/RecordRTC/Record-Mp3-or-Wav.html">Mp3 or Wav Recording</a></li>
<li><a href="https://www.webrtc-experiment.com/RecordRTC/Canvas-Recording/">Record entire DIV including video, image, textarea, input, drag/move/resize, everything</a></li>
<li><a href="https://www.webrtc-experiment.com/RecordRTC/Canvas-Recording/record-canvas-drawings.html">Record canvas 2D drawings, lines, shapes, texts, images, drag/resize/enlarge/move via a huge drawing tool!</a></li>
<li><a href="https://www.webrtc-experiment.com/RecordRTC/Canvas-Recording/Canvas-Animation-Recording.html">Record Canvas2D Animation</a></li>
<li><a href="https://www.webrtc-experiment.com/RecordRTC/webgl/">WebGL animation recording</a></li>
<li><a href="https://www.webrtc-experiment.com/RecordRTC/plotly.html">Plotly - WebGL animation recording</a></li>
</ol>
<p>You can also try a chrome extension for screen recording:</p>
<ul>
<li>https://chrome.google.com/webstore/detail/recordrtc/ndcljioonkecdnaaihodjgiliohngojp</li>
</ul>
<h1>How to link?</h1><h2><a href="https://www.npmjs.com/package/recordrtc">NPM</a> install</h2><pre class="prettyprint source"><code>npm install recordrtc

# you can use with &quot;require&quot; (browserify/nodejs)
var RecordRTC = require('recordrtc');

var recorder = RecordRTC({}, {
    type: 'video',
    recorderType: RecordRTC.WhammyRecorder
});

console.log('\n--------\nRecordRTC\n--------\n');
console.log(recorder);

console.log('\n--------\nstartRecording\n--------\n');
recorder.startRecording();
console.log('\n--------\nprocess.exit()\n--------\n');

process.exit()</code></pre><ul>
<li>https://tonicdev.com/npm/recordrtc</li>
</ul>
<p>Here is how to use <code>require</code>:</p>
<pre class="prettyprint source lang-javascript"><code>var RecordRTC = require('recordrtc');
var Whammy = RecordRTC.Whammy;
var WhammyRecorder = RecordRTC.WhammyRecorder;
var StereoAudioRecorder = RecordRTC.StereoAudioRecorder;
// and so on

var video = new Whammy.Video(100);
var recorder = new StereoAudioRecorder(stream, options);</code></pre><pre class="prettyprint source lang-html"><code>&lt;!-- link npm package scripts -->
&lt;script src=&quot;./node_modules/recordrtc/RecordRTC.js&quot;>&lt;/script></code></pre><p>There are some other NPM packages regarding RecordRTC:</p>
<ul>
<li><a href="https://www.npmjs.org/search?q=RecordRTC">https://www.npmjs.org/search?q=RecordRTC</a></li>
</ul>
<h2><a href="http://bower.io">bower</a> install</h2><pre class="prettyprint source"><code>bower install recordrtc</code></pre><pre class="prettyprint source lang-html"><code>&lt;!-- link bower package scripts -->
&lt;script src=&quot;./bower_components/recordrtc/RecordRTC.js&quot;>&lt;/script></code></pre><h2>CDN</h2><pre class="prettyprint source lang-html"><code>&lt;!-- CDN -->
&lt;script src=&quot;https://cdn.WebRTC-Experiment.com/RecordRTC.js&quot;>&lt;/script>

&lt;!-- non-CDN -->
&lt;script src=&quot;https://www.WebRTC-Experiment.com/RecordRTC.js&quot;>&lt;/script></code></pre><h2>Releases</h2><p>You can even link specific <a href="https://github.com/muaz-khan/RecordRTC/releases">releases</a>:</p>
<pre class="prettyprint source lang-html"><code>&lt;!-- use 5.4.1 or any other version -->
&lt;script src=&quot;https://github.com/muaz-khan/RecordRTC/releases/download/5.4.1/RecordRTC.js&quot;>&lt;/script></code></pre><h2>How to capture stream?</h2><pre class="prettyprint source lang-html"><code>&lt;script src=&quot;https://cdn.webrtc-experiment.com/gumadapter.js&quot;>&lt;/script>

&lt;script>
function successCallback(stream) {
    // RecordRTC usage goes here
}

function errorCallback(error) {
    // maybe another application is using the device
}

var mediaConstraints = { video: true, audio: true };

navigator.mediaDevices.getUserMedia(mediaConstraints).then(successCallback).catch(errorCallback);
&lt;/script></code></pre><h2>Record audio+video</h2><p>You'll be recording both audio/video in single WebM or Mp4 container.</p>
<pre class="prettyprint source lang-javascript"><code>var recordRTC;

function successCallback(stream) {
    // RecordRTC usage goes here

    var options = {
      mimeType: 'video/webm', // or video/webm\;codecs=h264 or video/webm\;codecs=vp9
      audioBitsPerSecond: 128000,
      videoBitsPerSecond: 128000,
      bitsPerSecond: 128000 // if this line is provided, skip above two
    };
    recordRTC = RecordRTC(stream, options);
    recordRTC.startRecording();
}

function errorCallback(error) {
    // maybe another application is using the device
}

var mediaConstraints = { video: true, audio: true };

navigator.mediaDevices.getUserMedia(mediaConstraints).then(successCallback).catch(errorCallback);

btnStopRecording.onclick = function () {
    recordRTC.stopRecording(function (audioVideoWebMURL) {
        video.src = audioVideoWebMURL;

        var recordedBlob = recordRTC.getBlob();
        recordRTC.getDataURL(function(dataURL) { });
    });
};</code></pre><h2>Record only Audio</h2><pre class="prettyprint source lang-javascript"><code>var recordRTC = RecordRTC(audioStream);
recordRTC.startRecording();
recordRTC.stopRecording(function(audioURL) {
    audio.src = audioURL;

    var recordedBlob = recordRTC.getBlob();
    recordRTC.getDataURL(function(dataURL) { });
});</code></pre><h2>Record Multiple Videos</h2><p>You can record 4 parallel videos/streams (<strong>WebRTC Conference</strong>):</p>
<pre class="prettyprint source lang-javascript"><code>var arrayOfStreams = [localStream, remoteStream1, remoteStream2, remoteStream3];

var recordRTC = RecordRTC(arrayOfStreams, {
  type: 'video',
  mimeType: 'video/webm', // or video/webm\;codecs=h264 or video/webm\;codecs=vp9
  previewStream: function(stream) {
    // it is optional
    // it allows you preview the recording video
  }
});
recordRTC.startRecording();
recordRTC.stopRecording(function(singleWebM) {
    video.src = singleWebM;

    var recordedBlob = recordRTC.getBlob();
    recordRTC.getDataURL(function(dataURL) { });
});</code></pre><blockquote>
<p>This simply means that: <strong>You can record 4 users video conference in single WebM or Mp4 container!</strong></p>
</blockquote>
<p>Note: This feature still requires <code>chrome://flags/#enable-experimental-web-platform-features</code> flag on Chrome.</p>
<p>Points:</p>
<ol>
<li>Instead of passing single <code>MediaStream</code>, you are passing array of <code>MediaStreams</code></li>
<li>You are keeping the <code>type=video</code></li>
<li>You will get single webm or mp4 according to your <code>mimeType</code></li>
</ol>
<h2>Echo Issues</h2><p>Simply set <code>volume=0</code> or <code>muted=true</code> over <code>&lt;audio&gt;</code> or <code>&lt;video&gt;</code> element:</p>
<pre class="prettyprint source lang-javascript"><code>videoElement.muted = true;
audioElement.muted = true;</code></pre><p>Otherwise, you can pass some media constraints:</p>
<pre class="prettyprint source lang-javascript"><code>function successCallback(stream) {
    // RecordRTC usage goes here
}

function errorCallback(error) {
    // maybe another application is using the device
}

var mediaConstraints = {
    audio: {
        mandatory: {
            echoCancellation: false,
            googAutoGainControl: false,
            googNoiseSuppression: false,
            googHighpassFilter: false
        },
        optional: [{
          googAudioMirroring: false
        }]
    },
};

navigator.mediaDevices.getUserMedia(mediaConstraints).then(successCallback).catch(errorCallback);</code></pre><ul>
<li><a href="https://chromium.googlesource.com/external/webrtc/+/master/talk/app/webrtc/mediaconstraintsinterface.cc">Constraints Reference</a></li>
</ul>
<h2>Record Video</h2><p>Everything is optional except <code>type:'video'</code>:</p>
<pre class="prettyprint source lang-javascript"><code>var options = {
   type: 'video',
   frameInterval: 20 // minimum time between pushing frames to Whammy (in milliseconds)
};
var recordRTC = RecordRTC(mediaStream, options);
recordRTC.startRecording();
recordRTC.stopRecording(function(videoURL) {
    video.src = videoURL;

    var recordedBlob = recordRTC.getBlob();
    recordRTC.getDataURL(function(dataURL) { });
});</code></pre><h2>Record animated GIF image</h2><p>Everything is optional except <code>type:'gif'</code>:</p>
<pre class="prettyprint source lang-javascript"><code>// you must &quot;manually&quot; link:
// https://cdn.webrtc-experiment.com/gif-recorder.js

var options = {
   type: 'gif',
   frameRate: 200,
   quality: 10
};
var recordRTC = RecordRTC(mediaStream || canvas || context, options);
recordRTC.startRecording();
recordRTC.stopRecording(function(gifURL) {
   mediaElement.src = gifURL;
});</code></pre><h2>Record a Webpage</h2><p>You can say it: &quot;HTML/Canvas Recording using RecordRTC&quot;!</p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;https://cdn.WebRTC-Experiment.com/RecordRTC.js&quot;>&lt;/script>
&lt;script src=&quot;https://cdn.webrtc-experiment.com/screenshot.js&quot;>&lt;/script>

&lt;div id=&quot;elementToShare&quot; style=&quot;width:100%;height:100%;background:green;&quot;>&lt;/div>
&lt;script>
var elementToShare = document.getElementById('elementToShare');
var recordRTC = RecordRTC(elementToShare, {
    type: 'canvas'
});
recordRTC.startRecording();
recordRTC.stopRecording(function(videoURL) {
    video.src = videoURL;

    var recordedBlob = recordRTC.getBlob();
    recordRTC.getDataURL(function(dataURL) { });
});
&lt;/script></code></pre><p>See a demo: <a href="https://www.webrtc-experiment.com/RecordRTC/Canvas-Recording/">/Canvas-Recording/</a></p>
<h2>Record <code>&lt;canvas&gt;</code></h2><p>You can even record Canvas2D drawings:</p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;https://cdn.webrtc-experiment.com/RecordRTC/Whammy.js&quot;>&lt;/script>
&lt;script src=&quot;https://cdn.webrtc-experiment.com/RecordRTC/CanvasRecorder.js&quot;>&lt;/script>
&lt;canvas>&lt;/canvas>
&lt;script>
var canvas = document.querySelector('canvas');
var recorder = new CanvasRecorder(window.canvasElementToBeRecorded, {
    disableLogs: false
});

// start recording &lt;canvas> drawings
recorder.record();

// a few minutes later
recorder.stop(function(blob) {
    var url = URL.createObjectURL(blob);
    window.open(url);
});
&lt;/script></code></pre><p>Live Demo:</p>
<ul>
<li>https://www.webrtc-experiment.com/RecordRTC/Canvas-Recording/record-canvas-drawings.html</li>
</ul>
<p>Watch a video: https://vimeo.com/152119435</p>
<h1>API Reference</h1><h2><code>initRecorder</code></h2><p>It is a function that can be used to initiate recorder however skip getting recording outputs. It will provide maximum accuracy in the outputs after using <code>startRecording</code> method. Here is how to use it:</p>
<pre class="prettyprint source lang-javascript"><code>var audioRecorder = RecordRTC(mediaStream, {
  recorderType: StereoAudioRecorder
});

var videoRecorder = RecordRTC(mediaStream, {
  recorderType: WhammyRecorder
});

videoRecorder.initRecorder(function() {
  audioRecorder.initRecorder(function() {
    // Both recorders are ready to record things accurately
    videoRecorder.startRecording();
    audioRecorder.startRecording();
  });
});</code></pre><p>After using <code>stopRecording</code>, you'll see that both WAV/WebM blobs are having following charachteristics:</p>
<ol>
<li>Both are having same recording duration i.e. length</li>
<li>Video recorder is having no blank frames</li>
<li>Audio recorder is having no empty buffers</li>
</ol>
<p>This method is really useful to sync audio/video outputs.</p>
<h2><code>setRecordingDuration</code></h2><p>You can ask RecordRTC to auto stop recording after specific duration. It accepts one mandatory and one optional argument:</p>
<pre class="prettyprint source lang-javascript"><code>recordRTC.setRecordingDuration(milliseconds, stoppedCallback);

// the easiest one:
recordRTC.setRecordingDuration(milliseconds).onRecordingStopped(stoppedCallback);</code></pre><p>Try a simple demo; paste in the chrome console:</p>
<pre class="prettyprint source lang-javascript"><code>navigator.mediaDevices.getUserMedia({
    video: true
}).then(function(stream) {
    var recordRTC = RecordRTC(stream, {
        recorderType: WhammyRecorder
    });

    // auto stop recording after 5 seconds
    recordRTC.setRecordingDuration(5 * 1000).onRecordingStopped(function(url) {
        console.debug('setRecordingDuration', url);
        window.open(url);
    })

    recordRTC.startRecording();
}).catch(function(error) {
    console.error(error);
});</code></pre><h2><code>clearRecordedData</code></h2><p>This method can be used to clear old recorded frames/buffers. Snippet:</p>
<pre class="prettyprint source lang-javascript"><code>recorder.clearRecordedData();</code></pre><h2><code>recorderType</code></h2><p>If you're using <code>recorderType</code> then you don't need to use <code>type</code>. Second one will be redundant i.e. skipped.</p>
<p>You can force any Recorder by passing this object over RecordRTC constructor:</p>
<pre class="prettyprint source lang-javascript"><code>var audioRecorder = RecordRTC(mediaStream, {
  recorderType: StereoAudioRecorder
})</code></pre><p>It means that ALL_BROWSERS will be using <a href="http://RecordRTC.org/StereoAudioRecorder.html">StereoAudioRecorder</a> i.e. WebAudio API for audio recording.</p>
<p>This feature brings remote audio recording support in Firefox, and local audio recording support in Microsoft Edge.</p>
<p>Note: Chrome <code>&gt;=50</code> supports remote audio+video recording.</p>
<p>You can even force <code>WhammyRecorder</code> on Firefox however webp format isn't yet supported in standard Firefox builds. It simply means that, you're skipping MediaRecorder API in Firefox.</p>
<h2><code>type</code></h2><p>If you are NOT using <code>recorderType</code> parameter then <code>type</code> parameter can be used to ask RecordRTC choose best recorder-type for recording.</p>
<pre class="prettyprint source lang-javascript"><code>// if it is Firefox, then RecordRTC will be using MediaStreamRecorder.js
// if it is Chrome or Opera, then RecordRTC will be using WhammyRecorder.js
var recordVideo = RecordRTC(mediaStream, {
  type: 'video'
});

// if it is Firefox, then RecordRTC will be using MediaStreamRecorder.js
// if it is Chrome or Opera or Edge, then RecordRTC will be using StereoAudioRecorder.js
var recordVideo = RecordRTC(mediaStream, {
  type: 'audio'
});</code></pre><h2><code>frameInterval</code></h2><p>Set minimum interval (in milliseconds) between each time we push a frame to Whammy recorder.</p>
<pre class="prettyprint source lang-javascript"><code>var whammyRecorder = RecordRTC(videoStream, {
  recorderType: WhammyRecorder,
  frameInterval: 1   // setTimeout interval
});</code></pre><h2><code>disableLogs</code></h2><p>You can disable all the RecordRTC logs by passing this Boolean:</p>
<pre class="prettyprint source lang-javascript"><code>var recorder = RecordRTC(mediaStream, {
  disableLogs: true
});</code></pre><h2><code>numberOfAudioChannels</code></h2><p>You can force <a href="http://RecordRTC.org/StereoAudioRecorder.html">StereoAudioRecorder</a> to record single-audio-channel only. It allows you reduce WAV file size to half.</p>
<pre class="prettyprint source lang-javascript"><code>var audioRecorder = RecordRTC(audioStream, {
  recorderType: StereoAudioRecorder,
  numberOfAudioChannels: 1 // or leftChannel:true
});</code></pre><p><strong>It will reduce WAV size to half!</strong></p>
<p>This feature is useful only in Chrome and Microsoft Edge (WAV-recorders). It can work in Firefox as well.</p>
<h2>How to set video width/height?</h2><pre class="prettyprint source lang-javascript"><code>var options = {
   type: 'video',
   video: {
      width: 320,
      height: 240
   },
   canvas: {
      width: 320,
      height: 240
   }
};

var recordVideo = RecordRTC(MediaStream, options);</code></pre><h2><code>pauseRecording</code></h2><blockquote>
<p>Note: Firefox seems has a bug. It is unable to pause the recording. Seems internal bug because they correctly changes <code>mediaRecorder.state</code> from <code>recording</code> to <code>paused</code> but they are unable to pause internal recorders.</p>
</blockquote>
<p>RecordRTC pauses recording buffers/frames.</p>
<pre class="prettyprint source lang-javascript"><code>recordRTC.pauseRecording();</code></pre><h2><code>resumeRecording</code></h2><p>If you're using &quot;initRecorder&quot; then it asks RecordRTC that now its time to record buffers/frames. Otherwise, it asks RecordRTC to not only initialize recorder but also record buffers/frames.</p>
<pre class="prettyprint source lang-javascript"><code>recordRTC.resumeRecording();</code></pre><h2><code>getDataURL</code></h2><p>Optionally get &quot;DataURL&quot; object instead of &quot;Blob&quot;.</p>
<pre class="prettyprint source lang-javascript"><code>recordRTC.getDataURL(function(dataURL) {
   mediaElement.src = dataURL;
});</code></pre><h2><code>getBlob</code></h2><p>Get &quot;Blob&quot; object. A blob object looks similar to <code>input[type=file]</code>. Which means that you can append it to <code>FormData</code> and upload to server using XMLHttpRequest object. Even socket.io nowadays supports blob-transmission.</p>
<pre class="prettyprint source lang-javascript"><code>blob = recordRTC.getBlob();</code></pre><h2><code>toURL</code></h2><p>A virtual URL. It can be used only inside the same browser. You can't share it. It is just providing a preview of the recording.</p>
<pre class="prettyprint source lang-javascript"><code>window.open( recordRTC.toURL() );</code></pre><h2><code>save</code></h2><p>Invoke save-as dialog. You can pass &quot;fileName&quot; as well; though fileName argument is optional.</p>
<pre class="prettyprint source lang-javascript"><code>recordRTC.save('File Name');</code></pre><h2><code>bufferSize</code></h2><p>Here is how to customize Buffer-Size for audio recording?</p>
<pre class="prettyprint source lang-javascript"><code>// From the spec: This value controls how frequently the audioprocess event is
// dispatched and how many sample-frames need to be processed each call.
// Lower values for buffer size will result in a lower (better) latency.
// Higher values will be necessary to avoid audio breakup and glitches
// bug: how to minimize wav size?
// workaround? obviously ffmpeg!
// The size of the buffer (in sample-frames) which needs to
// be processed each time onprocessaudio is called.

// Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384).

var options = {
   bufferSize: 16384
};
var recordRTC = RecordRTC(audioStream, options);</code></pre><p>Following values are allowed for buffer-size:</p>
<pre class="prettyprint source lang-javascript"><code>// Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384)</code></pre><p>If you passed invalid value then you'll get blank audio.</p>
<h2><code>sampleRate</code></h2><p>Here is jow to customize Sample-Rate for audio recording?</p>
<pre class="prettyprint source lang-javascript"><code>// The sample rate (in sample-frames per second) at which the
// AudioContext handles audio. It is assumed that all AudioNodes
// in the context run at this rate. In making this assumption,
// sample-rate converters or &quot;varispeed&quot; processors are not supported
// in real-time processing.
// The sampleRate parameter describes the sample-rate of the
// linear PCM audio data in the buffer in sample-frames per second.

// An implementation must support sample-rates in at least
// the range 22050 to 96000.

var options = {
   sampleRate: 96000
};
var recordRTC = RecordRTC(audioStream, options);</code></pre><p>Values for sample-rate must be greater than or equal to 22050 and less than or equal to 96000.</p>
<p>If you passed invalid value then you'll get blank audio.</p>
<p>You can pass custom sample-rate values only on Mac (or additionally maybe on Windows 10).</p>
<h2><code>mimeType</code></h2><p>This option allows you set MediaRecorder output format:</p>
<pre class="prettyprint source lang-javascript"><code>var options = {
  mimeType 'video/webm', // or video/webm\;codecs=h264 or video/webm\;codecs=vp9
  bitsPerSecond: 128000
};
var recorder = RecordRTC(mediaStream, options);</code></pre><p>Note: For chrome, it will simply auto-set <code>type:audio or video</code> parameters to keep supporting <code>StereoAudioRecorder.js</code> and <code>WhammyRecorder.js</code>.</p>
<p>That is, you can skip passing <code>type:audio</code> parameter when you're using <code>mimeType</code> parameter.</p>
<h2><code>bitsPerSecond</code></h2><p>The chosen bitrate for the audio and video components of the media. If this is specified along with one or the other of the above properties, this will be used for the one that isn't specified.</p>
<pre class="prettyprint source lang-javascript"><code>var options = {
  mimeType 'video/webm', // or video/mp4 or audio/ogg
  bitsPerSecond: 128000
};
var recorder = RecordRTC(mediaStream, options);</code></pre><h2><code>audioBitsPerSecond</code></h2><p>The chosen bitrate for the audio component of the media.</p>
<pre class="prettyprint source lang-javascript"><code>var options = {
  mimeType 'audio/ogg',
  audioBitsPerSecond: 128000
};
var recorder = RecordRTC(mediaStream, options);</code></pre><h2><code>videoBitsPerSecond</code></h2><p>The chosen bitrate for the video component of the media.</p>
<pre class="prettyprint source lang-javascript"><code>var options = {
  mimeType 'video/webm', // or video/mp4
  videoBitsPerSecond: 128000
};
var recorder = RecordRTC(mediaStream, options);</code></pre><h2><code>onAudioProcessStarted</code></h2><p>Note: &quot;initRecorder&quot; is preferred over this old hack. Both works similarly.</p>
<p>Useful to recover audio/video sync issues inside the browser:</p>
<pre class="prettyprint source lang-javascript"><code>recordAudio = RecordRTC( stream, {
     onAudioProcessStarted: function( ) {
         recordVideo.startRecording();
     }
});

recordVideo = RecordRTC(stream, {
    type: 'video'
});

recordAudio.startRecording();</code></pre><p><code>onAudioProcessStarted</code> fixes shared/exclusive audio gap (a little bit). Because shared audio sometimes causes 100ms delay...
sometime about 400-to-500 ms delay.
Delay depends upon number of applications concurrently requesting same audio devices and CPU/Memory available.
Shared mode is the only mode currently available on 90% of windows systems especially on windows 7.</p>
<h2><code>autoWriteToDisk</code></h2><p>Using <code>autoWriteToDisk</code>; you can suggest RecordRTC to auto-write to indexed-db as soon as you call <code>stopRecording</code> method.</p>
<pre class="prettyprint source lang-javascript"><code>var recordRTC = RecordRTC(MediaStream, {
    autoWriteToDisk: true
});</code></pre><p><code>autoWriteToDisk</code> is helpful for single stream recording and writing to disk; however for <code>MRecordRTC</code>; <code>writeToDisk</code> is preferred one.</p>
<h2><code>writeToDisk</code></h2><p>You can write recorded blob to disk using <code>writeToDisk</code> method:</p>
<pre class="prettyprint source lang-javascript"><code>recordRTC.stopRecording();
recordRTC.writeToDisk();</code></pre><h2><code>getFromDisk</code></h2><p>You can get recorded blob from disk using <code>getFromDisk</code> method:</p>
<pre class="prettyprint source lang-javascript"><code>// get all blobs from disk
RecordRTC.getFromDisk('all', function(dataURL, type) {
   type == 'audio'
   type == 'video'
   type == 'gif'
});

// or get just single blob
RecordRTC.getFromDisk('audio', function(dataURL) {
   // only audio blob is returned from disk!
});</code></pre><p>For <a href="https://RecordRTC.org/MRecordRTC.html">MRecordRTC</a>; you can use word <code>MRecordRTC</code> instead of <code>RecordRTC</code>!</p>
<p>Another possible situation!</p>
<pre class="prettyprint source lang-javascript"><code>var recordRTC = RecordRTC(mediaStream);
recordRTC.startRecording();
recordRTC.stopRecording(function(audioURL) {
   mediaElement.src = audioURL;
});

// &quot;recordRTC&quot; instance object to invoke &quot;getFromDisk&quot; method!
recordRTC.getFromDisk(function(dataURL) {
   // audio blob is automaticlaly returned from disk!
});</code></pre><p>In the above example; you can see that <code>recordRTC</code> instance object is used instead of global <code>RecordRTC</code> object.</p>
<h2>Promises</h2><pre class="prettyprint source lang-html"><code>&lt;script src=&quot;https://cdn.WebRTC-Experiment.com/RecordRTC.js&quot;>&lt;/script>

&lt;!-- link this file as well -->
&lt;script src=&quot;/dev/RecordRTC.promises.js&quot;>&lt;/script>

&lt;script>
// use &quot;RecordRTCPromisesHandler&quot; instead of &quot;RecordRTC&quot;
var recorder = new RecordRTCPromisesHandler(mediaStream, options);
recorder.startRecording().then(function() {

}).catch(function(error) {
    //
});

recorder.stopRecording().then(function(url) {
    var blob = recorder.blob;

    recorder.getDataURL().then(function(dataURL) {
        //
    }).catch(function(error) {})
}).catch(function(error) {
    //
});
&lt;/script></code></pre><h2>Credits</h2><ol>
<li><a href="https://github.com/mattdiamond/Recorderjs">Recorderjs</a> for audio recording</li>
<li><a href="https://github.com/antimatter15/whammy">whammy</a> for video recording</li>
<li><a href="https://github.com/antimatter15/jsgif">jsGif</a> for gif recording</li>
</ol>
<h2>Spec &amp; Reference</h2><ol>
<li><a href="https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html">Web Audio API</a></li>
<li><a href="https://wiki.mozilla.org/Gecko:MediaRecorder">MediaRecorder</a></li>
<li><a href="http://www.w3.org/html/wg/drafts/2dcontext/html5_canvas/">Canvas2D</a></li>
<li><a href="https://dvcs.w3.org/hg/dap/raw-file/tip/media-stream-capture/MediaRecorder.html">MediaStream Recording</a></li>
<li><a href="http://www.w3.org/TR/mediacapture-streams/">Media Capture and Streams</a></li>
</ol>
<h2>Contribute in <a href="http://RecordRTC.org">RecordRTC.org</a> domain</h2><p>The domain www.RecordRTC.org is open-sourced here:</p>
<ul>
<li>https://github.com/muaz-khan/RecordRTC/tree/gh-pages</li>
</ul>
<h2>Issues/Questions?</h2><ul>
<li>Stackoverflow: http://stackoverflow.com/questions/tagged/recordrtc</li>
<li>Github: https://github.com/muaz-khan/RecordRTC/issues</li>
<li>Disqus: https://www.webrtc-experiment.com/RecordRTC/#ask</li>
<li>Email: muazkh@gmail.com</li>
</ul>
<h2>License</h2><p><a href="https://github.com/muaz-khan/RecordRTC">RecordRTC.js</a> is released under <a href="https://www.webrtc-experiment.com/licence/">MIT licence</a> . Copyright (c) <a href="http://www.MuazKhan.com">Muaz Khan</a>.</p>
    	
    </article>
</section>





</div>

<nav>
    <h2><a href="/">Homepage</a></h2><h3>Classes</h3><ul><li><a href="CanvasRecorder.html">CanvasRecorder</a></li><li><a href="GetRecorderType.html">GetRecorderType</a></li><li><a href="GifRecorder.html">GifRecorder</a></li><li><a href="MediaStreamRecorder.html">MediaStreamRecorder</a></li><li><a href="MRecordRTC.html">MRecordRTC</a></li><li><a href="MultiStreamRecorder.html">MultiStreamRecorder</a></li><li><a href="RecordRTC.html">RecordRTC</a></li><li><a href="RecordRTCConfiguration.html">RecordRTCConfiguration</a></li><li><a href="StereoAudioRecorder.html">StereoAudioRecorder</a></li><li><a href="Whammy.html">Whammy</a></li><li><a href="WhammyRecorder.html">WhammyRecorder</a></li></ul><h3>Global</h3><ul><li><a href="global.html#bytesToSize">bytesToSize</a></li><li><a href="global.html#DiskStorage">DiskStorage</a></li><li><a href="global.html#invokeSaveAsDialog">invokeSaveAsDialog</a></li><li><a href="global.html#Storage">Storage</a></li></ul>
</nav>

<br clear="both">

<a href="https://github.com/muaz-khan/RecordRTC" class="fork-left"></a>

<div style="margin: 2.5em auto 0 auto;padding: 2em;">
	<section class="experiment own-widgets">
		<h2 class="header" id="updates" style="color: red; padding-bottom: .1em;"><a href="https://github.com/muaz-khan/RecordRTC/issues" target="_blank">RecordRTC Issues</a></h2>
		<div id="github-issues"></div>
	</section>

	<article>
		<h2 class="header" id="feedback">Help Improve Documentation</h2>
		<div><textarea id="message" style="border: 1px solid rgb(189, 189, 189); height: 8em; margin: .2em; outline: none; resize: vertical; width: 98%;" placeholder="Have any message or suggestions to improve documentation?"></textarea></div>
		<button id="send-message" style="font-size: 1em;">Send Private Message</button><small style="margin-left: 1em;">Enter your email too; if you want "direct" reply!</small>
	</article>
</div>

<section class="experiment own-widgets latest-commits">
	<h2 class="header" id="updates" style="color: red; padding-bottom: .1em;"><a href="https://github.com/muaz-khan/RecordRTC/commits/master" target="_blank">Latest Updates</a></h2>
	<div id="github-commits"></div>
</section>

<footer>
    <a href="https://www.webrtc-experiment.com/">WebRTC Experiments</a>
    &copy; <a href="https://plus.google.com/+MuazKhan" rel="author" >Muaz Khan</a>
    <a href="mailto:muazkh@gmail.com">muazkh@gmail.com</a>
    <a href="https://github.com/muaz-khan">Github</a>
    <a href="https://twitter.com/WebRTCWeb">@WebRTCWeb</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>

<!-- commits.js is useless for you! -->
<script>
	window.useThisGithubPath = 'muaz-khan/RecordRTC';
</script>
<script src="https://cdn.webrtc-experiment.com/commits.js" async> </script>
<a href="https://plus.google.com/+WebRTC-Experiment" rel="publisher"></a>
</body>
</html>
